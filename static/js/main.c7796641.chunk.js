(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(2),i=n.n(a),c=(n(15),n(3)),l=n(4),s=n(7),f=n(5),d=n(8),h=(n(16),n(6)),u=n.n(h),p=(n(17),u()()),v=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(f.a)(t).call(this,e))).componentDidMount=function(){var e=new Map;if(null!==n.myRef.current){var t=n.myRef.current.getContext("2d");t.fillStyle="gray",t.fillRect(20,20,442,442),[[0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,1,1,1,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0],[0,0,1,1,1,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0],[0,0,1,1,1,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0],[0,0,1,1,1,0,0,0,0,1,1,1,0,0,0,1,1,1,1,0],[0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,0],[0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,0],[0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],[0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,0]].forEach(function(t,n){t.forEach(function(t,r){var o;o=0===t?"pit":1===t?"floor":"goal",e.set("".concat(r,",").concat(n),o)})}),e.forEach(function(e,n){var r;r="floor"===e?"white":"pit"===e?"black":"yellow",t.fillStyle=r;var o=n.split(",");t.fillRect(22*(parseInt(o[0])+1),22*(parseInt(o[1])+1),20,20),t.fillStyle="red",t.fillRect(22*(parseInt(2)+1),22*(parseInt(0)+1),20,20)});var r=["D","R"],o=function(t){var n={selected:[],fitnessScore:0},r={selected:[],fitnessScore:0},o=[18,19];return t.forEach(function(t){for(var a,i=[2,0],c=!1,l=0;l<t.length;l++){"D"===t[l]&&19!==i[1]?i[1]+=1:"R"===t[l]&&19!==i[0]&&(i[0]+=1),"pit"===e.get(i.join(","))&&(c=!0)}var s=e.get(i.join(","));if("pit"===s||c)a=0;else if("floor"!==s||c){if("goal"===s&&!c){a=34-(o[0]-i[0]+(o[1]-i[1]))}}else{a=34-(o[0]-i[0]+(o[1]-i[1]))}if(a>n.fitnessScore){var f=n.selected;n.selected=t,n.fitnessScore=a,r.selected=f}else a>r.fitnessScore&&a<=n.fitnessScore&&(r.selected=t,r.fitnessScore=a)}),0===n.fitnessScore&&(n.selected=t[Math.floor(Math.random()*t.length)]),0===r.fitnessScore&&(r.selected=t[Math.floor(Math.random()*t.length)]),[n,r]},a=function(e){for(var t=e[0].selected,n=e[1].selected,o=[],a=!1,i=Math.ceil(Math.random()*e.length/2),c=i;c<i+e.length/2;c++)o[c]=t[c];for(var l=0;l<n.length;l++)o[l]||(o[l]=n[l]);0!==e[0].fitnessScore&&0!==e[1].fitnessScore&&(a=!0);for(var s=[],f=0;f<40;f++)if(a)s[f]=[].concat(o,[r[Math.floor(Math.random()*r.length)]]);else{var d=[].concat(o);d.pop(),s[f]=d}return s},i=function(e,t){return t.forEach(function(t){for(var n=0;n<t.length;n++){Math.random()<=e/100&&(t[n]=r[Math.floor(Math.random()*r.length)])}}),t},c=function(e){for(var t=e,n=[],r=[2,0],c=["16,19","17,19","18,19"],l=[],s=[],f=-1;l.join(",")!==c[0]&&l.join(",")!==c[1]&&l.join(",")!==c[2]&&f<36;){l=[].concat(r),n=o(t)[0];for(var d=0;d<n.selected.length;d++)"D"===n.selected[d]&&19!==l[1]?l[1]+=1:"R"===n.selected[d]&&19!==l[0]&&(l[0]+=1);f=n.fitnessScore,s.push({fittest:n.selected,score:n.fitnessScore}),t=i(5,a(o(t)))}return s}(function(){for(var e=[],t=0;t<40;t++)e[t]=[];return e.forEach(function(e){for(var t=0;t<6;t++)e[t]=r[Math.floor(Math.random()*r.length)]}),e}());n.setState({generationPieces:c,board:e})}},n.componentDidUpdate=function(){var e,t=n.myRef.current.getContext("2d");p.setup({step:".step"}).onStepEnter(function(r){e=function(e){var r=[2,0],o=0;return window.setInterval(function(){o<e.length&&("D"===e[o]&&19!==r[1]?r[1]+=1:"R"===e[o]&&19!==r[0]&&(r[0]+=1),t.fillStyle="red",t.fillRect(22*(parseInt(2)+1),22*(parseInt(0)+1),20,20),n.state.board.forEach(function(e,n){var r,o=n.split(",");r="floor"===e&&n?"white":"pit"===e?"black":"yellow",t.fillStyle=r,t.fillRect(22*(parseInt(o[0])+1),22*(parseInt(o[1])+1),20,20)}),t.fillStyle="red",t.fillRect(22*(parseInt(r[0])+1),22*(parseInt(r[1])+1),20,20)),o++},500)}(n.state.generationPieces[r.index].fittest),console.log(r.index)}).onStepExit(function(){window.clearInterval(e)}),window.addEventListener("resize",p.resize)},n.state={generationPieces:[],board:null},n.myRef=o.a.createRef(),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=window.innerWidth,t=window.innerHeight;return o.a.createElement("div",{className:"App"},o.a.createElement("canvas",{id:"maze-genetics",ref:this.myRef,width:e.toString(),height:t.toString()}),o.a.createElement("div",{className:"scroll__text"},this.state.generationPieces.map(function(e,t){return o.a.createElement("div",{className:"step",key:t},o.a.createElement("h1",null,"Generation: ",t),o.a.createElement("h2",null,"Fitness Score: ",e.score))})))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,n){e.exports=n(18)}},[[9,1,2]]]);
//# sourceMappingURL=main.c7796641.chunk.js.map